{"version":3,"sources":["util/vector.js","canvas/particle.js","util/perlin.js","canvas/firework.js","services/googleapi/sdk.js","services/googleapi/index.js","index.js"],"names":["Vector","constructor","x","y","z","set","mag","Math","sqrt","magSq","pow","normalize","div","setMag","mult","fromAngle","angle","cos","sin","atan2","vector","factor","add","v1","v2","subtr","Particle","mass","pos","prevPos","velocity","acceleration","lifespan","deltaTime","color","colorMode","r","g","b","a","update","updatePrevPos","show","ctx","strokeStyle","beginPath","lineWidth","moveTo","lineTo","stroke","colorVal","expired","applyForce","force","f","Perlin","seed","gradientVector","theta","random","PI","tan","dotProductGrid","vx","vy","vz","dVector","gradients","interpolate","get","xf","floor","yf","zf","tl","tr","bl","br","dtl","dtr","dbl","dbr","xt","xb","xdt","xdb","ya","yd","value","Firework","gravity","delay","exploded","particles","explode","i","length","particle","index","indexOf","splice","particleCount","round","perlinRed","perlinGreen","perlinBlue","perlin","push","api","getPlaylist","id","url","URLSearchParams","request","fetch","toString","response","json","getPlaylistItemCount","console","log","pageInfo","totalResults","google","canvas","document","querySelector","getContext","countDownDate","Date","getTime","countdown","getElementById","title","currentSong","previousTrack","toggleTrack","nextTrack","playlistId","width","window","innerWidth","height","innerHeight","addEventListener","fireworks","draw","drawFireworks","requestAnimationFrame","fillStyle","fillRect","firework","countdownInterval","setInterval","now","until","days","hours","minutes","seconds","innerHTML","formatTime","toTimeString","substr","time","clearInterval","number","player","playlistItemCount","initPlayer","YT","Player","playerVars","controls","autoplay","playlist","loop","events","onPlayerReady","onPlayerStateChange","onError","event","target","loadPlaylist","list","listType","startSeconds","suggestedQuality","data","PlayerState","ENDED","nextVideo","setAttribute","playerInfo","videoUrl","error","getVideoUrl","hitBounds","left","getPlaylistIndex","playVideoAt","previousVideo","getPlayerState","PLAYING","pauseVideo","playVideo","onload"],"mappings":";;AMAA;;AACA;;AAEA;AHHA,AFAA,AIAA,ADAA,AFAA,AFAA,MIAM4G,AJAA5G,GIAG,GAAG,AJAZ,CAAa,oDIAb;AJCEC,EAAAA,WAAW,CAACC,CAAD,EAAIC,CAAJ,EAAOC,CAAP,EAAU;AGAvB,ACCA,AJAI,SAAKC,GAAL,CAASH,CAAT,CIAW2G,CJAC1G,CAAZ,EAAeC,CAAf,MIAJ,CAA2B0G,EAA3B,EAA+B;AEG/B,AFFE,AJAC,MMEGc,AFFAb,GAAG,GEEG,AFFA,GEEGc,CFFCb,OEEO,CAACc,OFFZ,EAAV,IEEa,CAAuB,QAAvB,CAAf;ALHA,AKIA,AFDEf,AFHF,EEGEA,GAAG,CHHCrF,AKIAiB,AFDAtC,AFHAkD,GIIG,AFDP,CAAQ,EECEqE,AJJZ,CAAa,CDAb,CAAe,AGGb,GECgB,CAACG,UAAP,CAAkB,IAAlB,CAAZ;ALFE9H,AKIF,AFFE8G,AFFA9G,AFCAI,ECDAJ,AGEA8G,AFFA9G,AFCAI,GICG,AJDA,CMGC2H,AFFA3H,AJDAH,CAAD,EICH,AJDOC,CICC,AJDL,EAAOC,CCDC,ACAA,AFCR,CCDSF,CAAD,ADCE,CICb,AFFc,CDACC,CAAJ,AGEK,CEEC,CLJCwB,EKIE,AFFpB,EHFW,EAAa,AKIAsG,IAAJ,CAAS,yBAAT,EAAoCC,OAApC,EAAtB,EACA;AHNA,AFEI,AGEFnB,AFFE,AFCA,EICFA,GAAG,CDJCtB,ACIApF,EJDCH,CCDE0B,AGEP,AFFO4B,AFCL,CICM,CJDA,CCDN,CCAA,CCFJ,CFEe,CDCAtD,CAAL,ECDSF,CDCAE,CAAT,CICR,AJDE,CGHmBwB,CCICoF,EAAtB,CJAO,KAAK5G,CAAL,CCFM,CAAWA,CAAX,ADEG,CAAT,CCFoBC,CAAd,CEFf,AFEI,CEF4B;AAE9BF,AFCE,AKIJ,AFDE,AFHC,AFGC,EGJFA,IGKIkI,AFDAlB,EJAC9G,CCHE0B,ADGL,EAAM,EGJG,ACIA,CDJC3B,CAAD,AGKE,CLJX,AGGY,AJADC,CGJEA,AHIP,CGJG,AGKK0H,CLJC,CEDClG,AHIDxB,CAAT,CIAY+G,AJAlB,CCHmBlH,CEDV,EAAa0F,AGKA,CAAC0C,AFDA,AJClB,CIDmBxB,GAAG,CJCjBzG,CGLD,AHKJ,CIDyB,CDJC,CHKjB,CIDU,AJCnB,CCJU,CAAWD,CAAX,AGGqB6G,CECtB,CLJe5G,AKIS,CLJvB,AGGwB,CHHvC,AGGwCgH,QAAJ,CECtB,CAAlB,AFD2B,CAAzB;ADHE,AFEA,AKGJ,AFDE,AJEE,MMDEkB,AFDAjB,EJEChH,CCJEuB,ADIL,CGNMzB,CAAN,AGKO,ANCD,EGNGC,AFET,CEFA,AGKU0H,AFDA,EDJElG,AFEAA,ADIDvB,CIFE,AJEP,GGNN,AFEA,ADIeA,CAAT,CMDY,ANClB,CMDmBgI,AFDAnB,IJGd,GIHqB,CAACI,CJGjBjH,CAAL,EIHc,CJGL,CMFJ,AFDZ,AJGO,CMF6B,OAAxB,CAAd;AHHI,AFEA,AKGJ,AFDE,AFJAqD,AFMC,EENDA,IIKI6E,GHLG3C,AFEA7D,AGEAsF,KDJL,EDAY,CCAC7G,AFEb,AKGa,AFDf,EFJiB,CDEC,AKGAsH,CHLC,CAAClE,EFEE3D,IEFP,AGKW,CAACoI,IHLI,CAAhB,GAAoB,CAAjC,CFEgB,CAAW,CAAX,EAAc,AKGd,CLHA,AKGwB,CLHxC,YKGgB,CAApB;AHJI,AFEA,AKGJ,AFDC,AFJG,MIKEG,EJLE7E,CCACkC,AFEA7D,ICFI,GAAGxB,CCAZ,EGKe,CHLC,ADAA,CDEhB,ACFiBoD,CIKCkE,ELHE,CEFpB,EDAY,CDEY7H,EKGE,CAACoI,CJLC,CAAhB,GAAoB7H,IAAI,CAACqD,EDEjB,ACFpB,CDE+B,CAAX,AKGF,CAAwB,CLHR,CAAd,CAApB,YKGkB,CAAtB;AHHI,AFEA,AKEJ,AJLI,AFMFtD,EAAAA,GAAG,CMDCkI,ENCE,CGLC9C,AFEA1D,ECHE,IAAIhC,CCCX,CFEA,AKEa,EHJE0F,CFEC,AKEAmC,CLFC,CAAjB,IEFA,EGIwB,CAACO,CJLlB,CAAW7H,IAAI,CAACU,GAAL,CAASyC,GIKX,CAAwB,CJLtB,CAAX,EAA4BnD,IAAI,CAACW,GAAL,CIKnB,AJL4BwC,CIKhD,IJLuC,CAA5B,EAA6CnD,IAAI,CAACsD,GAAL,CAASH,KAAT,CAA7C,CAAP;ACGA,AFCA,AKEJ,AFDA,AFJG,AFMC,MMDE+E,GHHG5C,AFCA5D,EDGE1B,IMDI,AFDA+G,AJEA,CAAC9G,EGJZ,AFCA,AKEcqH,ENCP,CGJU,AFCA,ADGA,CCHjB,CEDA,GGGsB,ANCA3H,CMDCkI,ANCN,GAAS,GKdzBT,EDYL,AJEmCzH,CIFC4G,AJEf,EIFrB,CJEuC,CIFC,CECtB,CAAwB,ENCE3G,CAAL,GAAS,KMD9B,ANCmCA,CMDrD,ANCqB,GAAoC,KAAKC,CAAL,GAAS,KAAKA,CAA5D,CAAP;AGHD,AFEC,AKCJ,AFDE,AJEC,MMDGsI,AFDAtB,GHAGlF,KAAL,AGAU,EECE,CLDC,AGAA,EECE,IFDI2E,WAAW,CAACC,EAAD,CAAhC,iBECF,EAEA;ALFM3E,AKGN,AFFEoF,AFLAzD,EEKAyD,AFLAzD,IDII3B,GGCG,CAACqF,GAAR,CAAYJ,CHDC,CCJC,CDIC,ACJAlH,CAAD,EAAIC,CAAJ,CEKd,CHFe,ACHMC,CAAP,EAAU2D,EAAV,EAAcC,EAAd,EAAkBC,EAAlB,EAAsB;ACGpCzB,AFEIJ,AKGN,AFDE,AFNE,AFMF3B,EGJA+B,AHIA/B,ICFI2B,CAAC,ADEA,CGJC,ADFAqB,CDIC,AGEA2D,CJAC,CGJC,CFAM,KGIA,CAACK,IFNd,IEMK,CAAkBC,YAAzB;ADHE,AFEErF,AGEL,AFNG,AFMA,MCFEA,CAAC,CEFA,ADFC6B,CCEA,AFEC,CDEC5D,ECLO,CDKJ,CGJAsF,CDFE,CFMC,EENE,GFMGtF,CGJjB,ADFkBN,ECEC,AHIP,EAAZ,WENc,CAAWE,CAAC,GAAG6D,EAAf,EAAmB5D,CAAC,GAAG6D,EAAvB,EAA2B5D,CAAC,GAAG6D,EAA/B,CAAd;ACGE,AFEA3B,AKENsF,ANAI,MCFEtF,AKEA,CLFC,AKEAqG,ELFE,EEFEvF,AHIA7C,CCNM,AKMjB,GAAeqI,ANAA,CAAClI,GAAL,CAASJ,CGJd,AGIe,CHJC,AGIAuI,CNAX,EAAc,CAAd,CGJgBnD,AHIvB,KMAJ,EHJM;AACA,AFEAnD,AKENqF,AJNI,AFMD,MCFGrF,AKEA,CLFC,AKEAuG,CJNA,CDIE,GEFGtG,CGIZ,AJNY2B,GIMIyE,EHJV,IGIgB,AJNf,CIMgBG,AJND,CAAChF,EAAD,EAAKC,EAAL,EAASC,EIM/B,AJNsB,CAAf,CAAH,EAAiC;ADDpB,AKSjB+E,AJPMvF,KDFF,CCEEA,UIOU,CAAC,GJPG,GAAG,EIOP,EAAW,CJPCU,KIOK,IJPV,CAAe,CAACJ,EAAD,EAAKC,EAAL,EAASC,EAAT,CAAf,CAAjB;ACGA,AFEH,AKGD2D,AJPG,AFMHjH,EMCAiH,ANDAjH,GERE,GISI,CAACgI,CHLA,CDFE,AFMA,GMCT,ANDY,CGJA7G,EGKG8G,MHLR,AGKc,CHLAzI,AGKC0I,CHLf,IAAmB,KAAKlD,AGK/B,KHLI,EAAkC;AAChC,AGKNiC,AJPInE,AFMF,EMCFmE,IJPInE,EIOE,CAACqF,CNDCxI,GGJGwF,AHIA,EMCX,CNDc,EMCE8C,EHLV,ADFY,CFMCtI,EENE,CIOC,ANDR,CMCSyI,CNDrB,EENwBtF,QIO1B,MJPqB,EAAjB;ACGC,AFELjB,AKGD,AJPK,AFOF,CMHY,CLAdA,AKAF,MLAQ,ADGDlC,GCHI,ACJA6D,AFOD,IAAI,CAAV,EACE,EERA,CAAe,CAACJ,CFQXnD,CERU,EAAKoD,AFQpB,CAAS1D,CERM,EAAS2D,AFQxB,EERe,CAAf,IAA+BR,cAA/B;ACGD,AFED,AKIJ,AJRK,AFQF,IMACwF,CHbA,IFSKxG,EEFE,EGME,GAAG,EAAhB,ILJI;AEDE,AFGF,AKGJ,IAAIiD,KLHK5D,EEHC,AGMC,GAAG,CHNAiE,CAAC,CFGX,CAAczE,AKGAtB,CHNA,EFGd,CAAkB,EEHC6F,GFGI9D,MEHT,AGMJ,CHNmBiE,AGMR,CAAX,EAAc,ELHxB,AKGU,CHNI,CGMc,CAAlB,CHN2B,AGMzC,CHNM,EAAsCD,CAAC,IAAI,CAA3C,EAA8CA,CAAC,EAA/C,EAAmD;AACjD,AFGJ,AKIJ,AJTI,AFQFlF,EAAAA,EMCEqI,IAAJ,ANDQ,CCHCtH,ADGAtB,EERE4D,CCEC+B,AFGR,ADGI,CCHK3E,CDGC,ECHV,CAAa,CCLC,CAACpB,CCEC,ADFT,EDKW4B,CEHC,ADFA2B,KCEKoC,EFGxB,OEHmB,ADFc,CCECE,ADFA7F,CCEf,ADFZ,CCEH,EDFkCgE,OAAO,CAAC/D,CAAR,GAAYsD,cAAc,CAACtD,CAA1D,GAA8D+D,OAAO,CAAC9D,CAAR,GAAYqD,cAAc,CAACrD,CAAhG;ACII6F,AFEJ,ACLD,AFQC,QGLIA,CFEClE,ADGApB,OGLO,CAACyC,CHKb,GCHA,CAAkB/C,GAAlB,CAAsB,CEFlB,AFEJ,CEFwB,CFEC,CAAzB,GEF6BqF,OAAzB;AACAO,AGKR,ANAI,QGLIA,CGKCkD,ANAArI,IAAL,CAAUR,EGLE,CAACkC,AHKb,KMAJ,CHLQ,EGKiB;ALFrB,AKGF0G,AJRA9E,AFQC,EMAD8E,AJRA9E,IIQI,ELHC,CKGEgF,ILHGpH,ACLC,CAAC9B,CAAD,EAAIqC,CAAJ,EAAOD,CDKb,ACLM,EAAU,EDKC,CAAC,CAArB,EAAwB,CKGE,CAAC6G,aAAD,CAA5B;AHJM,AFEF,AKGJxG,AJRE,EIQFA,GAAG,CAAC0G,KLHKpH,ACLAM,CCGA0D,ADHC,GIQV,AJRa,CAAC,EIQE,EHLC,AFEb,ACLY/F,CCGEiD,ADHD,IAAE,CAAL,ECGL,CDHc,CCGjB,EAAuB,EDHHjD,CAAC,GIQ3B,CJR6B,CAAf,GAAmB,KAAGA,CAAC,IAAE,CAA1B,KAAgCoC,CAAC,GAACC,CAAlC,CAAX;ACIM,AFEL,AKGHI,AJRC,AFQD5B,EMAA4B,ANAA5B,GMAG,CAACuI,KNAK,CAACtI,EGLEkF,AGKZ,CAAa,CAAb,CNAS,CMAO,CHLC,AGKjB,ANAiB,EMAE0B,CHLC,KAAK/B,AGKA,CAAC8C,KAA1B,EAAiCf,CHLb,CAAezB,IGKI,CAAC2C,EHLpB,CAAuB7C,GGK3C,KHLoB,CAAZ;AACA,AFEP,ADGC,SAAK5F,GAAL,CAASE,EGLEsF,EHKE,CAAC5E,GAAL,CAASD,EGLZ,CAAeoF,EHKZ,CAAT,EAA0B7F,CGLpB,CAAsB2F,EHKE,CAAChF,EGLzB,CHKoB,CGLS,AHKAF,CGL7B,IHKoB,CAA1B;AGJK,AGKP,AJRAwC,AFQC,EERDA,IIQGjD,AJRC,GAAG,CIQA,CAACoD,MAAL,KAAiBiE,MAAM,CAACe,KAAP,GAAe,IAAnC,EAA0C;AHJrC,AFELlG,AKGE,AJRA,EDKFA,MKGM8G,CJRCpF,MDKM,CKGC,ELHE,ACLd,CIQe,EJRE,EIQEsB,AJRnB,iBIQe,CAAalF,IAAI,CAACoD,MAAL,KAAgBiE,MAAM,CAACe,KAApC,EAA2Cf,MAAM,CAACkB,MAAlD,EAA0D,CAA1D,EAA6DpD,OAA7D,CAAf;AHJC,AFED,AKGA6D,AJRD,AFQDvI,EAAAA,EMAEuI,GNAG,ECHE1H,CDGC,EMAE,CAACC,GLHT,CAAa5B,CAAb,GAAiB,AKGjB,GAAoB,ELHE0B,EKGE5B,CLHP,CAASE,CAA1B,YKGoB,CAAYK,IAAI,CAACoD,MAAL,KAAgB,CAAjB,GAAsB,CAAjC,EAAoC,CAAEpD,IAAI,CAACC,IAAL,CAAU,IAAIkF,OAAO,CAACvF,CAAZ,GAAgByH,MAAM,CAACkB,MAAvB,IAAiC,KAAKvI,IAAI,CAACoD,MAAL,KAAgB,EAAtD,CAAV,CAAtC,CAApB;AHJD,AFEC,AKIAsF,ANDA,IMCAA,KLJKpH,EDGEtB,EMCE,CAACoG,CNDC,CCHX,ADGYxF,CCHChB,CAAb,AKIA,CAAeoJ,ELJE,ADGV,CAAW,ICHI3H,CKItB,ANDuBzB,CAAhB,CCHU,CAASA,ADGA,CCH1B,IDG+BD,CAAxB,CAAP;ACFA,AKID,AJTDmE,AFQC,EERDA,GAAG,CAACnE,CAAD,EDKI2B,ACLA1B,CAAJ,EAAOC,CAAP,EAAU,CDKX,CAAaA,CAAb,GAAiB,KAAKwB,GAAL,CAASxB,CAA1B;AEDF0F,AFEC,ACLC,ECGFA,MDHK,CCGE,ADHD5F,CAAJ,ECGQ,ADHD;ACIP,AGMF,AJTE,AFQFY,EAAAA,IAAI,CMCA,ANDCM,CGLCiF,ADHD,CAAClG,CAAJ,CISM4F,CAAC,AJTA5F,CAAC,AFQN,EMCQ8I,ANDC5H,CERA,CAAJ,ICGU,AHKf,EAAiB,CGLCd,AGMD,CAACyF,GHNI,CAACM,EGMf,GHNU,AGMQ,CHNG,AGMjC,EAAiCP,CAAC,GHNKxF,CGMD,CAAtC,EHN2C,AGMFwF,CHNGpC,AGMF,EAA1C,EAA8C,EHNP,KAAgB,EAAjC,CAApB;AAEA,AFCFjB,AKIE,AJTA,AFQA,ECHFA,IAAI,CAACC,CEDC4D,AGKAgD,AJTD,AFQAlI,CERCjB,CDKF,ACLF,EDKQ,ACLDA,CAAC,CFQR,EMCY,AJTD,AFQA,CGJE,ADJN,EISQ6I,CHLC,IAAI1F,IGKI,CAACwC,CAAD,CAAxB,QHLgB,EAAhB;AACA,AFEA,AKIAwD,AJTA,AFOE,IMEFA,IHNI/C,AFED,ACLClC,EAAE,EISE,CLJAtC,AKICQ,AJTAjC,AFOA,IEPI,AFOAP,CEPCuE,CCGC,AGMf,ELJG,CEFe,CDHT,AFOA,CEPWrE,AFOAkB,CCFA,ACLX,CCGamC,AFED,ACLrB,CDKA,EAAwB,CDEE,CAACrD,CAAP,GAAWmB,MGJb,AHIT,EGJT,AHIuCD,MAAM,CAACjB,CAAP,GAAWkB,MAAzC,EAAiDD,MAAM,CAAChB,CAAP,GAAWiB,MAA5D,CAAP;AGHF,AFEE,AKIFkI,AJTA,AFOC,IMEDA,CNJA,GGFI9C,ADHAjC,EDKEjC,ACLA,CDKC,ADEA,CMEC,CAACG,AJTAnC,CDKC,GKIV,AJTa,CCGC,AGMAoC,AJTA4B,CDKCrC,EEFE,AGMjB,EJTS,CDKC,ACLU/B,CCGCoD,AFEAhB,ACLZ,CDKC,ACLV,GDKyB,KAAKL,KAAL,CEFR,AFEmBK,CAAX,CEFzB,GFEyC,KAAKN,SAAL,GAAiB,KAAKD,QAAtC,CAAvB;AAEAW,ACNF,AFOE,MCDAA,ECNE8B,CDMC,CAAC7B,ACNA,GAAGrC,IAAI,CAACgE,GDMZ,ECNO,CAAWnE,CAAX,CAAT,CAPW,CASX,MDIuB,KAAK8B,KAAL,CAAWC,SAAhC,cAA6C,KAAKD,KAAL,CAAWE,CAAxD,eAA8D,KAAKF,KAAL,CAAWG,CAAzE,eAA+E,KAAKH,KAAL,CAAWI,CAA1F,eAAgGC,CAAhG;AEHF,AFIC,AKGD,ANFE,KCLF,GKOGgH,CHPC,EFIG,ADCAlJ,EGLC0F,CAAC,AHKP,CAAS,CMEA,CHPC,AGOA5C,CHPZ,EAAe4C,AHKC7F,CGLA,AHKL,GGLQmG,AGOhB,ANFiBjF,EMEpB,EAAuB,ENFrB,EAA0B,KGL5B,AHKiCjB,CAAL,CGLM4F,CAAC,CHKE3E,CGLrC,EAAuC,GHKrC,EAA2C,KAAKhB,CAAL,GAASgB,MAApD;AGJA,AFIAuB,AKGA,AJRF,AFMC,MCDCA,ECLE+B,CDKC,CEJCuB,AFIArD,AKGAsD,AJRA,GAAG,EIQE,GHPG,AGOA+C,AJRAnF,GCCG,AFIf,IEJmBpC,EGOE,CAACyE,IJRf,CAAoBjG,CDKN,ACLd,CIQK,CAAkBqJ,AJRApJ,CAAvB,EDKmB+B,ACLO9B,CAA1B,ECCQ,ADDqBkE,CCCR,CFIP,AKGT,AJRL,CDKyBnC,AKGhC,CJRwCqC,ECCP5C,ADD1B,EAAqC6C,CCChB,CAASvE,ADD9B,CCCQ,ADDjB,CDKE,CEJwC,KAAK0B,GAAL,CAASzB,CAAlC,EAAqC,CFIP,IEJYwB,CFIPO,GEJE,EFIP,CEJmBmE,AFIRjE,CAAxD,YEJe,CAAf,EFI8D,KAAKF,KAAL,CAAWG,CAAzE,eAA+E,KAAKH,KAAL,CAAWI,CAA1F,eAAgG,KAAKJ,KAAL,CAAWK,CAA3G;AEFA,AFGD,AKGC0G,AJRF,AFMD,MMEGA,EJREtE,ECEE+B,ADFA,GAAG,EIQE,CHNC,AGMAN,EJREtC,CCEC,GGMb,CHNiBP,AGMA2C,KAAjB,EAAwB,CAAxB,CJRO,CAAoBhG,CAApB,EAAuBC,CAAvB,CCEM,CDFoBC,CCEjC,ADFO,EAA6BkE,EAAE,GAAE,CAAjC,EAAoCE,EAApC,EAAwCC,EAAxC,CAAT;ACIE,AGKD,AJRD,QAAIG,ECGE5D,ADHA,GAAG,ECGE,GAAGT,ADHAuD,ICGI,CAACH,MAAL,GDHL,CAAoBzD,CCGC,ADHrB,EAAuBC,CCG9B,ADHO,EAA0BC,CAA1B,EAA6BkE,EAA7B,EAAiCE,EAAE,GAAE,CAArC,EAAwCC,EAAxC,CAAT;ACIEwB,AFEFtD,AKGD,AJRC,AFMF/B,EAAAA,ECDE+B,CDCC,CGHCsD,AHGA7E,CCDC,CAACyB,ACLAgC,EAAE,EFML,CENQ,CCGC,AHGAxD,CGHCS,EFEX,CCLcgC,EFMb,EAAiB,CGHhB,CAAkB5D,CAAlB,GAAsBK,IAAI,ADHnB,CCGoBW,ADHAhB,CAApB,ECGe,ADHQC,CCGCa,ADHxB,EAA0BZ,CAA1B,ECGe,ADHckE,CCGpC,CDHsC,GAAE,CAAjC,EAAoCE,EAAE,GAAE,CAAxC,EAA2CC,EAA3C,CAAT;ACIEwB,AFEFtD,AKGH,AJRG,AFMA,EMIJ,ELLIA,EEFEsD,CFEC,CAACnD,ACLAgC,AFMDzD,GENI,GCGG,ADHA,AFMV,CGHWS,CHGA,CCDX,ECLegC,CDKC,GEFd,CAAkB3D,AFEA,CEFlB,GAAsBI,AFEA,IEFI,CAACU,AFEAU,ACLnB,CAAoBzB,CAApB,CCGc,CAASc,AFEjC,ACLiCb,CAAvB,EAA0BC,CAA1B,CCGc,CAAtB,ADHqCkE,EAA7B,EAAiCE,EAAjC,EAAqCC,EAAE,GAAE,CAAzC,CAAV;ACIEwB,AFEFtD,AKKJ,AJVI,AFME,ICDFA,EEFEsD,CFEC,CAAClD,ACLAgC,GAAG,EFME,CGHC,AFEV,ACLU,CCGCjD,AFEA,EDCE9B,EENE8D,CDKCjC,GEFd,AHGO,CGHWhB,AHGAO,GCDT,CAAalB,CAAxB,CEFE,AHGwB,CGHCwG,AFEA,ADCAxG,CAAP,CENV,CAAoBA,CAApB,AFMqBmB,CCDCQ,CEFC,ADHA1B,CCGCkE,ADHxB,EAA0BjE,CCGT,ADHjB,AFMD,CGH6B2F,CAAC,AFEZ,ACLYzB,AFMAlD,CCDCjB,CAAxC,ACLyC,CCGC,EAAf,ADHgB,CAAjC,AFMmC,CGHC,AHGAA,CGHnB,ADHmBqE,AFMP,EGHU,ADHvC,CCGiB,AHGuBnD,CENAoD,EAAE,CCGE,EAApD,ADHoD,AFM7C,CENC,CAAV,AFM0DrD,MAAM,CAAChB,CAAP,GAAWiB,MAA5D,CAAP;AGDA4E,AFCFtD,AKKJ,AJVI,AFMC,ICDDA,CDDA,CGAEsD,CFCC,CAACjD,ACLAgC,GAAG,AFMA,GGFG,AFCV,ACLU,CCIChD,AFCA,ICLI8B,CDKClC,GEDd,AFCS,CAAS1B,CAApB,CEDsBwG,CFCC,KEDK,AFCA9E,CEDCyC,ADJnB,CAAoBnE,CDKP,ACLb,CCIY,AFCUC,CEDC4F,AFCjC,ACLiC5F,CCIC,ADJxB,EAA0BC,CCIC,ADJ3B,ECIuB,ADJMkE,EAA7B,CCIgC,CAApB,ADJqBE,ECIE,ADJA,CCIvB,EAA0B,ADJD,CCIzB,ADJZ,EAAwCC,ECIG,ADJD,GCIlD,ADJoD,CAA5C,CAAV;ACMEwB,AFAFtD,ACLA,AFME,ICDFA,EEAEsD,CFAC,CAAChD,ACLAgC,GAAG,GCKG,AFAV,ACLU,CCKC/B,IDLIY,ICKb,CAAkB,MAAMyC,GDLhB,CAAoBrG,CAApB,EAAuBC,CAAvB,CCKyB,CAACkE,ADLAjE,CAA1B,ECKgB,ADLakE,CCKCyB,CAAC,ADLA,GCKG,ADLD,CAAjC,CCKgB,CDLoBvB,EAAE,CCKE,EDLA,CCKhD,ADLQ,ECK6C,ADLFC,EAAE,GAAE,CCKI+B,ADLnD,CAAV,UCKwE,CAACnC,GAAZ,CAAgB0B,CAAC,GAAG,CAApB,IAAyB,GAApF,EAAyF,MAAMU,UAAU,CAACpC,GAAX,CAAe0B,CAAC,GAAG,CAAnB,IAAwB,GAAvH,EAA4H,CAA5H;AAEA,AFDH,ACJC,AFKE,QELEb,EAAE,CCKCW,AHAAxF,EELE,CFKP,CAAS,GELG+D,ECKZ,AHAclE,CGACyG,AHAN,GAASvF,CGAlB,CAAoB6E,GDLb,CAAiB/F,AFKxB,CELyB,CFKC,EGA1B,ADL4BoE,EAArB,CFKwBnE,CELCuE,AFKN,EELnB,CFK4BtD,CELCuD,EAA7B,CAAT,EFKE,EAA2C,KAAKvE,CAAL,GAASgB,MAApD;AGCD,AGEL,AJPI,AFKC,IMEDoI,IJPIrE,EAAE,GAAG,KAAKf,GIOG,GAAGqF,KJPX,CAAiBvJ,CAAC,GAAGoE,CIOC,CAAC,AJPvB,EAAyBM,EAAzB,EIO6B,AJPAC,EAA7B,CAAT;ADKF3B,AKGA,AJPE,AFKD,ECDDA,MCJMkC,EDIE,CAAChD,ACJA,CDID,EAAIC,ACJA,CDIJ,EAAOC,CAAP,CCJS8B,CDIC7B,CAAV,EAAa,OCJT,CAAiBrC,CAAC,GAAGoE,EAArB,EAAyBQ,GAAzB,EAA8BC,GAA9B,CAAV;ACMA,AFDA,AKGF,AJPE,MIOE2E,EJPErE,CCKCO,AFDA1D,AKGA,EJPE,CIOC,ELHR,ACJU,CDICE,CAAX,AKGY6F,CHFZ,EFDe7F,ACJAgC,CCKC,AFDhB,AKGQ,GAAW8D,CHFnB,MGEQ,AJPE,CAAiBhI,CIO7B,AJP8B,GAAGoE,EAArB,EAAyBU,GAAzB,EAA8BC,GAA9B,CAAV;ACMD,AFDC,AKGF,AJNE,AFIF3D,EAAAA,GAAG,CMECqI,ANFApI,EEJE+D,AFIH,CCDIpD,CCHC,AFIAV,CMEC,CNFN,CEJQ,CDGT,AKGUwG,ANFA,CCDC3F,CAAX,ECHc+B,CDGC/B,CAAf,OKGuB,EJNd,CIMiBqH,AJNAvJ,CAAC,EIM7B,CJNgCqE,EAArB,EAAyBU,EAAzB,EAA6BC,EAA7B,CAAT;ADIA,AKIF,AJPE,AFIA,MMGEyE,EJPErE,AFID/D,CCDEU,CKIC,AJPA,AFIN,EAAO,CMGE3B,AJPA,CDGT,CAAW+B,CAAX,CKIa,CAACiC,AJPAH,CDGC9B,CAAf,GKIS,CAAWqH,KAAK,AJPhB,CAAiBxJ,CAAC,EIOE,CJPCqE,EAArB,EAAyBY,EIOE,CJP3B,CIOoB,CJPUC,EIOE,CJPhC,CIOoB,AJP7B,GIO8C,EAArB,CAAhB,CAAX;AHFAlC,AFDE,AKIF,AJNE,AFGE,EGAJA,IGGI0G,EJNErE,CCGC,AFDAtD,EKIE,CHHC,CDHC,AFGA,CCDT,AKIU3B,CLJCgC,CAAX,ACFY,CFGCvC,CMGC,CLJCuC,AKIAgC,CLJf,CCFiBH,EFGR,CMGC,ANHU7C,CMGEoI,CNHA,CAACzJ,CAAH,EMGO,CNHAsB,CEHf,CAAiBpB,AFGA,CMGE,AJND,AFGAF,CAArB,EEHwBuE,AFGAlD,EEHrB,AFGuB,CAACpB,CMGE,AJNDmF,AFGJ,EMGF,AJNnB,CFG4B9D,CEHC+D,CIME,ANHD,CEH9B,AFG+BpF,CMGZ,AJN/B,AFGS,EAAqCoB,CMGE,CNHA,CMGrB,ANHsBnB,CMG5B,ANHyB,GAAOoB,CMGG,CNHD,CAACpB,CAA/C,CAAP,GMG6D,EAAP,GAAY,EAA/C,CAAX,CAAZ;AHFE,AFDD,AKID,AJLE,AFEC,KAFD,CMKE0J,KHHK,ADFAtE,AFEA,EMGE,GHHGI,AGGArF,AJLZ,IIKgB,CAACgE,GHHV,EGGK,CAAYoF,CHHA,IGGK,CHHA9D,GGGI,MHHT,CAAeG,AGGC,EAAP,GAAY,CHHrB,CGGK,CAAN,EHH0B,CAAjD,CGGqD,OAAO,EAArC,CAAX,CAAd;AHFC,AGGD,AJLC,AFEG,MMGA+D,KNHK1J,EMGE,CNHP,CAAS,CMGCE,IAAI,ANHAL,CMGCqE,ANHN,GAAShD,EMGR,ANHU,CMGEoI,ANHDzJ,CAArB,EAAwB,EMGG,GNHEC,CMGE,ANHP,GAASoB,EAAE,CAACpB,CMGE,ANHtC,EMG2B,ANHY,CMGlB,GAAwB,CNHDC,CAAL,EMG7B,CAAd,ANHoDmB,EAAE,CAACnB,CAAnD;ACAJ+B,AKKAgG,ANJG,ECDHhG,AKKAgG,SLLS,AKKA,CLLChG,AKKA6H,SLLD,AKKT,ELLqB,WKKIC,UAAU,CAACL,IAAD,CAAnC,eAA8CK,UAAU,CAACJ,KAAD,CAAxD,eAAoEI,UAAU,CAACH,OAAD,CAA9E,eAA4FG,UAAU,CAACF,OAAD,CAAtG;AHHArH,AFDE,AKKF2F,AJvEW,AFmEV,EGAD3F,AGIA2F,IHJI,CAAC1F,AGIA,CAACqH,CLLC9H,CECH,EAAM,EFDR,CAAWC,EKKb,GAAkB,ILLhB,GAAuBA,SAAvB,MKKF;AHHE,AFDD,QECI,CAAC,KAAKyD,QAAT,EAAmB;AACjB,AGIJ,ANJAnE,EAAAA,IMIGkI,CNJE,CAACpI,EAAD,CMIG,CHJEmB,AHAAlB,EMIC,ANJN,CMIL,AJPa+B,CCGT,AHAU,CGACZ,AGID,GHJV;AACD,AFDHQ,AKKEgG,ANJA,ECDFhG,EKKEgG,CHNA,GHEG3H,CCDE,CDCL,CGAO,CFDC,ADCD,KMIM;AHHX,AFDF,AKMA2G,ANLE,IMKFA,OHLM,AFDC,EKME,ANLA,CMKC6B,CHLA/D,CFDEjE,CDCChC,MGAX,AGKF,ANLS,CCDF,ADCauB,EMKE,ANLA,CGAA,AHACrB,CCDC,ADCJ,CCDK,CAAlB,CDCoBsB,CGAAqE,CHAE,CCDC,ADCA3F,CAArB,EAAwBqB,ECDES,ADCA,CAAC7B,CGAlC,AHA+B,CMKjC,CHLsC,CHAEqB,EAAE,CCDZ,ADCarB,CAAlC,ECDqC,ADCAoB,EAAE,CAACnB,CAAH,CCDK6B,EDCET,EAAE,CAACpB,CAA/C,CAAP,ECD4B,IAAkC,CAAhE;AEEI6F,AFDL,AKMCoC,ANLC,IMKDA,CNPA,GGEIpC,CGKC,CAAC+D,CNLC,KGAK,CAACtH,EGKb,EHLI,CAAcC,AGKA,GHLd,CGKkBsF,IAAJ,GAAWiC,YAAX,GAA0BC,MAA1B,CAAiC,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","file":"Silvester.e31bb0bc.js","sourceRoot":"..","sourcesContent":["class Vector {\r\n  constructor(x, y, z) {\r\n    this.set(x, y, z);\r\n  }\r\n\r\n  set(x, y, z) {\r\n    if(x) this.x = x;\r\n    else this.x = 0;\r\n\r\n    if(y) this.y = y;\r\n    else this.y = 0;\r\n\r\n    if(z) this.z = z;\r\n    else this.z = 0;\r\n  }\r\n\r\n  mag() {\r\n    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\r\n  }\r\n\r\n  magSq() {\r\n    const mag = this.mag();\r\n    return Math.pow(mag, 2);\r\n  }\r\n\r\n  normalize() {\r\n    const mag = this.mag();\r\n    \r\n    if(mag != 0)\r\n      this.div(mag);\r\n  }\r\n\r\n  setMag(mag) {\r\n    this.normalize();\r\n    this.mult(mag);\r\n  }\r\n\r\n  fromAngle(angle) {\r\n    this.set(Math.cos(angle), Math.sin(angle));\r\n  }\r\n\r\n  angle() {\r\n    return Math.atan2(this.y, this.x);\r\n  }\r\n\r\n  mult(vector, factor) {\r\n    if(factor) {\r\n      return new Vector(vector.x * factor, vector.y * factor, vector.z * factor);\r\n    } else {\r\n      // vector is actually scalar\r\n      this.set(this.x * vector, this.y * vector, this.z * vector);\r\n    }\r\n  }\r\n\r\n  div(vector, factor) {\r\n    if(factor) {\r\n      return new Vector(vector.x / factor, vector.y / factor, vector.z / factor);\r\n    } else {\r\n      // vector is actually scalar\r\n      this.set(this.x / vector, this.y / vector, this.z / vector);\r\n    }\r\n  }\r\n\r\n  add(v1, v2) {\r\n    if(v2) {\r\n      return new Vector(v1.x + v2.x, v1.y + v2.y, v1.z + v2.z);\r\n    } else {\r\n      this.set(this.x + v1.x, this.y + v1.y, this.z + v1.z);\r\n    }\r\n  }\r\n\r\n  subtr(v1, v2) {\r\n    if(v2) {\r\n      return new Vector(v1.x - v2.x, v1.y - v2.y, v1.z - v2.z);\r\n    } else {\r\n      this.set(this.x - v1.x, this.y - v1.y, this.z - v1.z);\r\n    }\r\n  }\r\n}\r\n\r\nexport default Vector;","import Vector from \"../util/vector\";\r\n\r\nclass Particle {\r\n\r\n  constructor(x, y, mass) {\r\n    this.pos = new Vector(x, y);\r\n    this.prevPos = new Vector(x, y);\r\n\r\n    this.mass = mass;\r\n\r\n    this.velocity = new Vector(0, 0);\r\n    this.acceleration = new Vector(0, 0);\r\n    \r\n    this.lifespan = -1;\r\n    this.deltaTime = 0;\r\n    \r\n    this.color = {\r\n      colorMode: 'rgba',\r\n      r: 255,\r\n      g: 255,\r\n      b: 255,\r\n      a: 255\r\n    }\r\n  }\r\n\r\n  update() {\r\n    this.updatePrevPos();\r\n    \r\n    this.velocity.add(this.acceleration);\r\n    this.pos.add(this.velocity);\r\n    this.acceleration.set(0, 0);\r\n    \r\n    if(this.lifespan != -1) {\r\n      this.deltaTime++;\r\n    }\r\n  }\r\n  \r\n  updatePrevPos() {\r\n    this.prevPos.x = this.pos.x;\r\n    this.prevPos.y = this.pos.y;\r\n    this.prevPos.z = this.pos.z;\r\n  }\r\n\r\n  show(ctx) {\r\n\r\n    if(this.lifespan != -1) {\r\n      let a = this.color.a - this.color.a * (this.deltaTime / this.lifespan);\r\n\r\n      ctx.strokeStyle = `${this.color.colorMode}(${this.color.r}, ${this.color.g}, ${this.color.b}, ${a})`;\r\n    } else {\r\n      ctx.strokeStyle = `${this.color.colorMode}(${this.color.r}, ${this.color.g}, ${this.color.b}, ${this.color.a})`;\r\n    }\r\n\r\n    ctx.beginPath();\r\n    ctx.lineWidth = 8 + 8 * this.mass;\r\n    ctx.moveTo(this.prevPos.x, this.prevPos.y);\r\n    ctx.lineTo(this.pos.x, this.pos.y);\r\n    ctx.stroke();\r\n  }\r\n\r\n  colorVal(r, g, b, a) {\r\n    this.color.r = r;\r\n    this.color.g = g;\r\n    this.color.b = b;\r\n    this.color.a = a;\r\n  }\r\n\r\n  colorMode(colorMode) {\r\n    this.color.colorMode = colorMode;\r\n  }\r\n  \r\n  expired() {\r\n    return this.lifespan == -1 || this.lifespan - this.deltaTime <= 0;\r\n  }\r\n\r\n  applyForce(force) {\r\n    let f = new Vector().mult(force, this.mass);\r\n    this.acceleration.add(f);\r\n  }\r\n}\r\n\r\nexport default Particle;","import Vector from \"./vector\";\r\n\r\nclass Perlin {\r\n\r\n  constructor() {\r\n    this.seed();\r\n  }\r\n\r\n  gradientVector() {\r\n    let theta = Math.random() * 2 * Math.PI;\r\n    return new Vector(Math.cos(theta), Math.sin(theta), Math.tan(theta));\r\n  }\r\n\r\n  dotProductGrid(x, y, z, vx, vy, vz) {\r\n    let gradientVector;\r\n    let dVector = new Vector(x - vx, y - vy, z - vz);\r\n\r\n    if(this.gradients[[vx, vy, vz]]) {\r\n      gradientVector = this.gradients[[vx, vy, vz]];\r\n    } else {\r\n      gradientVector = this.gradientVector();\r\n      this.gradients[[vx, vy, vz]] = gradientVector;\r\n    }\r\n\r\n    return dVector.x * gradientVector.x + dVector.y * gradientVector.y + dVector.z * gradientVector.z;\r\n  }\r\n\r\n  interpolate(x, a, b) {\r\n    return a + (6*x**5 - 15*x**4 + 10*x**3) * (b-a);\r\n  }\r\n\r\n  seed() {\r\n    this.gradients = {};\r\n  }\r\n\r\n  get(x, y, z) {\r\n    if(!x) return;\r\n    if(!y) y = 0;\r\n    if(!z) z = 0;\r\n\r\n    let xf = Math.floor(x);\r\n    let yf = Math.floor(y);\r\n    let zf = Math.floor(z);\r\n\r\n    // Interpolation\r\n    let tl = this.dotProductGrid(x, y, z, xf, yf, zf);\r\n    let tr = this.dotProductGrid(x, y, z, xf +1, yf, zf);\r\n    let bl = this.dotProductGrid(x, y, z, xf, yf +1, zf);\r\n    let br = this.dotProductGrid(x, y, z, xf +1, yf +1, zf);\r\n    let dtl = this.dotProductGrid(x, y, z, xf, yf, zf +1);\r\n    let dtr = this.dotProductGrid(x, y, z, xf +1, yf, zf +1);\r\n    let dbl = this.dotProductGrid(x, y, z, xf, yf +1, zf +1);\r\n    let dbr = this.dotProductGrid(x, y, z, xf +1, yf +1, zf +1);\r\n    \r\n    let xt = this.interpolate(x - xf, tl, tr);\r\n    let xb = this.interpolate(x - xf, bl, br);\r\n    let xdt = this.interpolate(x - xf, dtl, dtr);\r\n    let xdb = this.interpolate(x - xf, dbl, dbr);\r\n    \r\n    let ya = this.interpolate(y - yf, xt, xb);\r\n    let yd = this.interpolate(y - yf, xdt, xdb);\r\n\r\n    let value = this.interpolate(z - zf, ya, yd);\r\n\r\n    return value;\r\n  }\r\n}\r\n\r\nexport default Perlin;","import Particle from \"./particle\";\r\nimport Perlin from \"../util/perlin\";\r\n\r\nclass Firework extends Particle {\r\n\r\n  constructor(x, y, mass, gravity) {\r\n    super(x, y, mass);\r\n    \r\n    this.delay = Math.random() * 2 - 1;\r\n    this.exploded = false;\r\n\r\n    this.gravity = gravity;\r\n\r\n    this.particles = [];\r\n  }\r\n\r\n  update() {\r\n    if(!this.exploded) {\r\n      this.applyForce(this.gravity);\r\n      super.update();\r\n      \r\n      if(this.velocity.y >= this.delay) {\r\n        this.explode();\r\n      }\r\n    } else {\r\n      for(let i = this.particles.length -1; i >= 0; i--) {\r\n        let particle = this.particles[i];\r\n        \r\n        particle.applyForce(this.gravity);\r\n        particle.update();\r\n        \r\n        if(particle.expired()) {\r\n          let index = this.particles.indexOf(particle);\r\n          this.particles.splice(index, 1);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  explode() {\r\n    let particleCount = Math.round(100 + Math.random() * 20);\r\n    \r\n    let perlinRed = new Perlin();\r\n    let perlinGreen = new Perlin();\r\n    let perlinBlue = new Perlin();\r\n    for(let i = 0; i < particleCount; i++) {\r\n      let particle = new Particle(this.pos.x, this.pos.y, this.mass / particleCount);\r\n      \r\n      let perlin = new Perlin();\r\n\r\n      let angle = Math.random() * 360;\r\n      particle.velocity.x = Math.sin(angle);\r\n      particle.velocity.y = Math.cos(angle);\r\n      particle.velocity.setMag(perlin.get(i / 10, 0, 0) * 10);\r\n      \r\n      particle.lifespan = perlin.get(i / 10 + 5, 0, 0) * 420;\r\n      \r\n      particle.colorVal(127 + perlinRed.get(i / 10) * 255, 127 + perlinGreen.get(i / 2) * 255, 127 + perlinBlue.get(i / 3) * 255, 1);\r\n      \r\n      this.particles.push(particle);\r\n    }\r\n\r\n    this.exploded = true;\r\n  }\r\n  \r\n  expired() {\r\n    return this.exploded && this.particles.length == 0;\r\n  }\r\n  \r\n  show(ctx) {\r\n    if(!this.exploded) {\r\n      super.show(ctx);\r\n    } else {\r\n      for(let particle of this.particles) {\r\n        particle.show(ctx);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default Firework;","const api = \"https://www.googleapis.com/youtube/v3/playlistItems\";\r\n\r\nasync function getPlaylist(id) {\r\n  let url = new URLSearchParams();\r\n\r\n  url.set('key', process.env.GOOGLE_API_KEY);\r\n  url.set('part', 'id');\r\n  url.set('playlistId', id);\r\n\r\n  let request = await fetch(api + '?' + url.toString());\r\n  let response = await request.json();\r\n\r\n  return response;\r\n}\r\n\r\nasync function getPlaylistItemCount(id) {\r\n  let response = await getPlaylist(id);\r\n  \r\n  console.log(response);\r\n  \r\n  return response.pageInfo.totalResults;\r\n}\r\n\r\nexport { getPlaylist, getPlaylistItemCount };","import * as google from \"./sdk\"\r\n\r\nexport default {\r\n  ...google\r\n}","import Firework from \"./canvas/firework\";\r\nimport Vector from \"./util/vector\";\r\n\r\nimport google from \"./services/googleapi\";\r\n\r\nconst canvas = document.querySelector('canvas');\r\nconst ctx = canvas.getContext('2d');\r\n\r\nconst countDownDate = new Date('Januar 1, 2021 00:00:00').getTime();\r\n//const countDownDate = new Date(Date.now() + 5000).getTime();\r\nconst countdown = document.getElementById('countdown');\r\nconst title = document.getElementById('title');\r\n\r\nconst currentSong = document.getElementById('currentSong');\r\nconst previousTrack = document.getElementById('previousTrack');\r\nconst toggleTrack = document.getElementById('toggleTrack');\r\nconst nextTrack = document.getElementById('nextTrack');\r\nconst playlistId = 'PLr6S79MwreeUBXyVbLKjIuOZ2QWV4U79f';\r\n\r\n// ******************************\r\n// Fireworks\r\n// ******************************\r\ncanvas.width = window.innerWidth;\r\ncanvas.height = window.innerHeight;\r\n\r\naddEventListener('resize', () => {\r\n  canvas.width = window.innerWidth;\r\n  canvas.height = window.innerHeight;\r\n});\r\n\r\nlet fireworks = [];\r\nlet gravity = new Vector(0, .2, 0);\r\n\r\nlet draw;\r\nfunction drawFireworks() {\r\n  draw = requestAnimationFrame(drawFireworks);\r\n  ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';\r\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n  if(Math.random() < (canvas.width / 7500)) {\r\n    let firework = new Firework(Math.random() * canvas.width, canvas.height, 1, gravity);\r\n    firework.velocity = new Vector((Math.random() * 2) - 1, - Math.sqrt(2 * gravity.y * canvas.height * (.2 + Math.random() * .6)));\r\n\r\n    fireworks.push(firework);\r\n  }\r\n  \r\n  for(let i = fireworks.length -1; i >= 0; i--) {\r\n    let firework = fireworks[i];\r\n\r\n    firework.update();\r\n    firework.show(ctx);\r\n\r\n    if(firework.expired()) {\r\n      let index = fireworks.indexOf(firework);\r\n      fireworks.splice(index, 1);\r\n    }\r\n  }\r\n}\r\n\r\n// ******************************\r\n// Countdown\r\n// ******************************\r\nlet countdownInterval = setInterval(() => {\r\n  // until New Year\r\n  let now = new Date().getTime();\r\n  let until = countDownDate - now;\r\n\r\n  let days = Math.floor(until / (1000 * 60 * 60 * 24));\r\n  let hours = Math.floor((until % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n  let minutes = Math.floor((until % (1000 * 60 * 60)) / (1000 * 60));\r\n  let seconds = Math.floor((until % (1000 * 60)) / 1000);\r\n\r\n  countdown.innerHTML = `${formatTime(days)}d ${formatTime(hours)}h ${formatTime(minutes)}m ${formatTime(seconds)}s`;\r\n  title.innerHTML = \"until New Year's Eve\";\r\n\r\n  if(until < 0) {\r\n    drawFireworks();\r\n\r\n    countdown.innerHTML = 'HAPPY NEW YEAR';\r\n    title.innerHTML = new Date().toTimeString().substr(0, 8);\r\n\r\n    // After New Year\r\n    setInterval(() => {\r\n      let time = new Date().toTimeString().substr(0, 8);\r\n    \r\n      countdown.innerHTML = 'HAPPY NEW YEAR';\r\n      title.innerHTML = time;\r\n      \r\n      clearInterval(countdownInterval);\r\n    }, 1000);\r\n  }\r\n}, 1000);\r\n\r\nfunction formatTime(number) {\r\n  if(number < 10)\r\n    return `0${number}`;\r\n  else\r\n    return number;\r\n}\r\n\r\n// ******************************\r\n// LOFI-PLAYER\r\n// ******************************\r\n// Load API asynchronously\r\n/*let iframeApiScriptTag = document.createElement('script');\r\niframeApiScriptTag.src = \"https://www.youtube.com/iframe_api\";\r\nlet playerScriptTag = document.getElementById('player');\r\nplayerScriptTag.parentNode.insertBefore(iframeApiScriptTag, playerScriptTag);\r\n*/\r\n\r\n// Initialize Player\r\nlet player;\r\nlet playlistItemCount;\r\n\r\nasync function initPlayer() {\r\n  playlistItemCount = await google.getPlaylistItemCount(playlistId);\r\n  player = new YT.Player('player', {\r\n    height: '390',\r\n    width: '640',\r\n    playerVars: {\r\n      controls: 0,\r\n      autoplay: 1,\r\n      playlist: playlistId,\r\n      loop: 1\r\n    },\r\n    events: {\r\n      'onReady': onPlayerReady,\r\n      'onStateChange': onPlayerStateChange,\r\n      'onError': onError\r\n    }\r\n  });\r\n\r\n  console.log(player);\r\n}\r\n\r\n// Player Events\r\nfunction onPlayerReady(event) {\r\n  event.target.loadPlaylist({\r\n    list: playlistId,\r\n    listType: 'playlist',\r\n    index: Math.round(Math.random() * (playlistItemCount - 1)),\r\n    startSeconds: 0,\r\n    suggestedQuality: \"small\"\r\n  });\r\n}\r\n\r\nfunction onPlayerStateChange(event) {\r\n  if(event.data == YT.PlayerState.ENDED) nextVideo();\r\n\r\n  currentSong.setAttribute('href', event.target.playerInfo.videoUrl);\r\n}\r\n\r\nfunction onError(event) {\r\n  switch (event.data) {\r\n    case 5:\r\n    case 100:\r\n    case 101:\r\n    case 150:\r\n      console.error(player.getVideoUrl())\r\n      nextVideo();\r\n\r\n      break;\r\n  }\r\n}\r\n\r\n// ******************************\r\n// LOFI-PLAYER - Controls\r\n// ******************************\r\nfunction hitBounds(left) {\r\n  let index = player.getPlaylistIndex();\r\n\r\n  if(index == 0 && left) {\r\n    player.playVideoAt(playlistItemCount -1);\r\n    return true;\r\n  } else if(index == playlistItemCount -1 && !left) {\r\n    player.playVideoAt(0);\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nfunction nextVideo() {\r\n  if(!hitBounds(false)) player.nextVideo();\r\n}\r\n\r\nfunction previousVideo() {\r\n  if(!hitBounds(true)) player.previousVideo();\r\n}\r\n\r\npreviousTrack.addEventListener('click', () => {\r\n  if(player)\r\n    previousVideo();\r\n});\r\n\r\ntoggleTrack.addEventListener('click', () => {\r\n  if(!player) return;\r\n\r\n  if(player.getPlayerState() == YT.PlayerState.PLAYING) {\r\n    player.pauseVideo();\r\n    toggleTrack.innerHTML = 'play_arrow';\r\n  }\r\n  else {\r\n    player.playVideo();\r\n    toggleTrack.innerHTML = 'pause'\r\n  }\r\n    \r\n});\r\n\r\nnextTrack.addEventListener('click', () => {\r\n  if(player)\r\n    nextVideo();\r\n});\r\n\r\nwindow.onload = initPlayer();"]}