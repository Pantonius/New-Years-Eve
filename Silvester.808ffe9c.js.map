{"version":3,"sources":["util/vector.js","canvas/particle.js","util/perlin.js","canvas/firework.js","services/googleapi/sdk.js","services/googleapi/index.js","index.js"],"names":["Vector","constructor","x","y","z","set","mag","Math","sqrt","magSq","pow","normalize","div","setMag","mult","fromAngle","angle","cos","sin","atan2","vector","factor","add","v1","v2","subtr","Particle","mass","pos","prevPos","velocity","acceleration","lifespan","deltaTime","color","colorMode","r","g","b","a","update","updatePrevPos","show","ctx","strokeStyle","beginPath","lineWidth","moveTo","lineTo","stroke","colorVal","expired","applyForce","force","f","Perlin","seed","gradientVector","theta","random","PI","tan","dotProductGrid","vx","vy","vz","dVector","gradients","interpolate","get","xf","floor","yf","zf","tl","tr","bl","br","dtl","dtr","dbl","dbr","xt","xb","xdt","xdb","ya","yd","value","Firework","gravity","delay","exploded","particles","i","length","particle","index","indexOf","splice","explode","particleCount","round","perlinRed","perlinGreen","perlinBlue","perlin","push","api","getPlaylist","id","url","URLSearchParams","request","fetch","toString","response","json","getPlaylistItemCount","pageInfo","totalResults","google","canvas","document","querySelector","getContext","countDownDate","Date","getTime","countdown","getElementById","title","currentSong","previousTrack","toggleTrack","nextTrack","playlistId","width","window","innerWidth","height","innerHeight","addEventListener","draw","fireworks","drawFireworks","requestAnimationFrame","fillStyle","fillRect","firework","player","playlistItemCount","countdownInterval","setInterval","now","until","days","hours","minutes","seconds","innerHTML","formatTime","toTimeString","substr","time","clearInterval","number","initPlayer","YT","Player","playerVars","controls","autoplay","playlist","loop","events","onPlayerReady","onPlayerStateChange","onError","console","log","event","target","loadPlaylist","list","listType","startSeconds","suggestedQuality","data","PlayerState","ENDED","nextVideo","setAttribute","playerInfo","videoUrl","error","getVideoUrl","hitBounds","left","getPlaylistIndex","playVideoAt","previousVideo","getPlayerState","PLAYING","pauseVideo","playVideo","onload"],"mappings":"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","file":"Silvester.808ffe9c.js","sourceRoot":"..","sourcesContent":["class Vector {\r\n  constructor(x, y, z) {\r\n    this.set(x, y, z);\r\n  }\r\n\r\n  set(x, y, z) {\r\n    if(x) this.x = x;\r\n    else this.x = 0;\r\n\r\n    if(y) this.y = y;\r\n    else this.y = 0;\r\n\r\n    if(z) this.z = z;\r\n    else this.z = 0;\r\n  }\r\n\r\n  mag() {\r\n    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\r\n  }\r\n\r\n  magSq() {\r\n    const mag = this.mag();\r\n    return Math.pow(mag, 2);\r\n  }\r\n\r\n  normalize() {\r\n    const mag = this.mag();\r\n    \r\n    if(mag != 0)\r\n      this.div(mag);\r\n  }\r\n\r\n  setMag(mag) {\r\n    this.normalize();\r\n    this.mult(mag);\r\n  }\r\n\r\n  fromAngle(angle) {\r\n    this.set(Math.cos(angle), Math.sin(angle));\r\n  }\r\n\r\n  angle() {\r\n    return Math.atan2(this.y, this.x);\r\n  }\r\n\r\n  mult(vector, factor) {\r\n    if(factor) {\r\n      return new Vector(vector.x * factor, vector.y * factor, vector.z * factor);\r\n    } else {\r\n      // vector is actually scalar\r\n      this.set(this.x * vector, this.y * vector, this.z * vector);\r\n    }\r\n  }\r\n\r\n  div(vector, factor) {\r\n    if(factor) {\r\n      return new Vector(vector.x / factor, vector.y / factor, vector.z / factor);\r\n    } else {\r\n      // vector is actually scalar\r\n      this.set(this.x / vector, this.y / vector, this.z / vector);\r\n    }\r\n  }\r\n\r\n  add(v1, v2) {\r\n    if(v2) {\r\n      return new Vector(v1.x + v2.x, v1.y + v2.y, v1.z + v2.z);\r\n    } else {\r\n      this.set(this.x + v1.x, this.y + v1.y, this.z + v1.z);\r\n    }\r\n  }\r\n\r\n  subtr(v1, v2) {\r\n    if(v2) {\r\n      return new Vector(v1.x - v2.x, v1.y - v2.y, v1.z - v2.z);\r\n    } else {\r\n      this.set(this.x - v1.x, this.y - v1.y, this.z - v1.z);\r\n    }\r\n  }\r\n}\r\n\r\nexport default Vector;","import Vector from \"../util/vector\";\r\n\r\nclass Particle {\r\n\r\n  constructor(x, y, mass) {\r\n    this.pos = new Vector(x, y);\r\n    this.prevPos = new Vector(x, y);\r\n\r\n    this.mass = mass;\r\n\r\n    this.velocity = new Vector(0, 0);\r\n    this.acceleration = new Vector(0, 0);\r\n    \r\n    this.lifespan = -1;\r\n    this.deltaTime = 0;\r\n    \r\n    this.color = {\r\n      colorMode: 'rgba',\r\n      r: 255,\r\n      g: 255,\r\n      b: 255,\r\n      a: 255\r\n    }\r\n  }\r\n\r\n  update() {\r\n    this.updatePrevPos();\r\n    \r\n    this.velocity.add(this.acceleration);\r\n    this.pos.add(this.velocity);\r\n    this.acceleration.set(0, 0);\r\n    \r\n    if(this.lifespan != -1) {\r\n      this.deltaTime++;\r\n    }\r\n  }\r\n  \r\n  updatePrevPos() {\r\n    this.prevPos.x = this.pos.x;\r\n    this.prevPos.y = this.pos.y;\r\n    this.prevPos.z = this.pos.z;\r\n  }\r\n\r\n  show(ctx) {\r\n\r\n    if(this.lifespan != -1) {\r\n      let a = this.color.a - this.color.a * (this.deltaTime / this.lifespan);\r\n\r\n      ctx.strokeStyle = `${this.color.colorMode}(${this.color.r}, ${this.color.g}, ${this.color.b}, ${a})`;\r\n    } else {\r\n      ctx.strokeStyle = `${this.color.colorMode}(${this.color.r}, ${this.color.g}, ${this.color.b}, ${this.color.a})`;\r\n    }\r\n\r\n    ctx.beginPath();\r\n    ctx.lineWidth = 8 + 8 * this.mass;\r\n    ctx.moveTo(this.prevPos.x, this.prevPos.y);\r\n    ctx.lineTo(this.pos.x, this.pos.y);\r\n    ctx.stroke();\r\n  }\r\n\r\n  colorVal(r, g, b, a) {\r\n    this.color.r = r;\r\n    this.color.g = g;\r\n    this.color.b = b;\r\n    this.color.a = a;\r\n  }\r\n\r\n  colorMode(colorMode) {\r\n    this.color.colorMode = colorMode;\r\n  }\r\n  \r\n  expired() {\r\n    return this.lifespan == -1 || this.lifespan - this.deltaTime <= 0;\r\n  }\r\n\r\n  applyForce(force) {\r\n    let f = new Vector().mult(force, this.mass);\r\n    this.acceleration.add(f);\r\n  }\r\n}\r\n\r\nexport default Particle;","import Vector from \"./vector\";\r\n\r\nclass Perlin {\r\n\r\n  constructor() {\r\n    this.seed();\r\n  }\r\n\r\n  gradientVector() {\r\n    let theta = Math.random() * 2 * Math.PI;\r\n    return new Vector(Math.cos(theta), Math.sin(theta), Math.tan(theta));\r\n  }\r\n\r\n  dotProductGrid(x, y, z, vx, vy, vz) {\r\n    let gradientVector;\r\n    let dVector = new Vector(x - vx, y - vy, z - vz);\r\n\r\n    if(this.gradients[[vx, vy, vz]]) {\r\n      gradientVector = this.gradients[[vx, vy, vz]];\r\n    } else {\r\n      gradientVector = this.gradientVector();\r\n      this.gradients[[vx, vy, vz]] = gradientVector;\r\n    }\r\n\r\n    return dVector.x * gradientVector.x + dVector.y * gradientVector.y + dVector.z * gradientVector.z;\r\n  }\r\n\r\n  interpolate(x, a, b) {\r\n    return a + (6*x**5 - 15*x**4 + 10*x**3) * (b-a);\r\n  }\r\n\r\n  seed() {\r\n    this.gradients = {};\r\n  }\r\n\r\n  get(x, y, z) {\r\n    if(!x) return;\r\n    if(!y) y = 0;\r\n    if(!z) z = 0;\r\n\r\n    let xf = Math.floor(x);\r\n    let yf = Math.floor(y);\r\n    let zf = Math.floor(z);\r\n\r\n    // Interpolation\r\n    let tl = this.dotProductGrid(x, y, z, xf, yf, zf);\r\n    let tr = this.dotProductGrid(x, y, z, xf +1, yf, zf);\r\n    let bl = this.dotProductGrid(x, y, z, xf, yf +1, zf);\r\n    let br = this.dotProductGrid(x, y, z, xf +1, yf +1, zf);\r\n    let dtl = this.dotProductGrid(x, y, z, xf, yf, zf +1);\r\n    let dtr = this.dotProductGrid(x, y, z, xf +1, yf, zf +1);\r\n    let dbl = this.dotProductGrid(x, y, z, xf, yf +1, zf +1);\r\n    let dbr = this.dotProductGrid(x, y, z, xf +1, yf +1, zf +1);\r\n    \r\n    let xt = this.interpolate(x - xf, tl, tr);\r\n    let xb = this.interpolate(x - xf, bl, br);\r\n    let xdt = this.interpolate(x - xf, dtl, dtr);\r\n    let xdb = this.interpolate(x - xf, dbl, dbr);\r\n    \r\n    let ya = this.interpolate(y - yf, xt, xb);\r\n    let yd = this.interpolate(y - yf, xdt, xdb);\r\n\r\n    let value = this.interpolate(z - zf, ya, yd);\r\n\r\n    return value;\r\n  }\r\n}\r\n\r\nexport default Perlin;","import Particle from \"./particle\";\r\nimport Perlin from \"../util/perlin\";\r\n\r\nclass Firework extends Particle {\r\n\r\n  constructor(x, y, mass, gravity) {\r\n    super(x, y, mass);\r\n    \r\n    this.delay = Math.random() * 2 - 1;\r\n    this.exploded = false;\r\n\r\n    this.gravity = gravity;\r\n\r\n    this.particles = [];\r\n  }\r\n\r\n  update() {\r\n    if(!this.exploded) {\r\n      this.applyForce(this.gravity);\r\n      super.update();\r\n      \r\n      if(this.velocity.y >= this.delay) {\r\n        this.explode();\r\n      }\r\n    } else {\r\n      for(let i = this.particles.length -1; i >= 0; i--) {\r\n        let particle = this.particles[i];\r\n        \r\n        particle.applyForce(this.gravity);\r\n        particle.update();\r\n        \r\n        if(particle.expired()) {\r\n          let index = this.particles.indexOf(particle);\r\n          this.particles.splice(index, 1);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  explode() {\r\n    let particleCount = Math.round(100 + Math.random() * 20);\r\n    \r\n    let perlinRed = new Perlin();\r\n    let perlinGreen = new Perlin();\r\n    let perlinBlue = new Perlin();\r\n    for(let i = 0; i < particleCount; i++) {\r\n      let particle = new Particle(this.pos.x, this.pos.y, this.mass / particleCount);\r\n      \r\n      let perlin = new Perlin();\r\n\r\n      let angle = Math.random() * 360;\r\n      particle.velocity.x = Math.sin(angle);\r\n      particle.velocity.y = Math.cos(angle);\r\n      particle.velocity.setMag(perlin.get(i / 10, 0, 0) * 10);\r\n      \r\n      particle.lifespan = perlin.get(i / 10 + 5, 0, 0) * 420;\r\n      \r\n      particle.colorVal(127 + perlinRed.get(i / 10) * 255, 127 + perlinGreen.get(i / 2) * 255, 127 + perlinBlue.get(i / 3) * 255, 1);\r\n      \r\n      this.particles.push(particle);\r\n    }\r\n\r\n    this.exploded = true;\r\n  }\r\n  \r\n  expired() {\r\n    return this.exploded && this.particles.length == 0;\r\n  }\r\n  \r\n  show(ctx) {\r\n    if(!this.exploded) {\r\n      super.show(ctx);\r\n    } else {\r\n      for(let particle of this.particles) {\r\n        particle.show(ctx);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default Firework;","const api = \"https://www.googleapis.com/youtube/v3/playlistItems\";\r\n\r\nasync function getPlaylist(id) {\r\n  let url = new URLSearchParams();\r\n\r\n  url.set('key', process.env.GOOGLE_API_KEY);\r\n  url.set('part', 'id');\r\n  url.set('playlistId', id);\r\n\r\n  let request = await fetch(api + '?' + url.toString());\r\n  let response = await request.json();\r\n\r\n  return response;\r\n}\r\n\r\nasync function getPlaylistItemCount(id) {\r\n  let response = await getPlaylist(id);\r\n  \r\n  return response.pageInfo.totalResults;\r\n}\r\n\r\nexport { getPlaylist, getPlaylistItemCount };","import * as google from \"./sdk\"\r\n\r\nexport default {\r\n  ...google\r\n}","import Firework from \"./canvas/firework\";\r\nimport Vector from \"./util/vector\";\r\n\r\nimport google from \"./services/googleapi\";\r\n\r\nconst canvas = document.querySelector('canvas');\r\nconst ctx = canvas.getContext('2d');\r\n\r\nconst countDownDate = new Date('Januar 1, 2021 00:00:00').getTime();\r\n//const countDownDate = new Date(Date.now() + 5000).getTime();\r\nconst countdown = document.getElementById('countdown');\r\nconst title = document.getElementById('title');\r\n\r\nconst currentSong = document.getElementById('currentSong');\r\nconst previousTrack = document.getElementById('previousTrack');\r\nconst toggleTrack = document.getElementById('toggleTrack');\r\nconst nextTrack = document.getElementById('nextTrack');\r\nconst playlistId = 'PLr6S79MwreeUBXyVbLKjIuOZ2QWV4U79f';\r\n\r\n// ******************************\r\n// Fireworks\r\n// ******************************\r\ncanvas.width = window.innerWidth;\r\ncanvas.height = window.innerHeight;\r\n\r\naddEventListener('resize', () => {\r\n  canvas.width = window.innerWidth;\r\n  canvas.height = window.innerHeight;\r\n});\r\n\r\nlet fireworks = [];\r\nlet gravity = new Vector(0, .2, 0);\r\n\r\nlet draw;\r\nfunction drawFireworks() {\r\n  draw = requestAnimationFrame(drawFireworks);\r\n  ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';\r\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n  if(Math.random() < (canvas.width / 7500)) {\r\n    let firework = new Firework(Math.random() * canvas.width, canvas.height, 1, gravity);\r\n    firework.velocity = new Vector((Math.random() * 2) - 1, - Math.sqrt(2 * gravity.y * canvas.height * (.2 + Math.random() * .6)));\r\n\r\n    fireworks.push(firework);\r\n  }\r\n  \r\n  for(let i = fireworks.length -1; i >= 0; i--) {\r\n    let firework = fireworks[i];\r\n\r\n    firework.update();\r\n    firework.show(ctx);\r\n\r\n    if(firework.expired()) {\r\n      let index = fireworks.indexOf(firework);\r\n      fireworks.splice(index, 1);\r\n    }\r\n  }\r\n}\r\n\r\n// ******************************\r\n// Countdown\r\n// ******************************\r\nlet countdownInterval = setInterval(() => {\r\n  // until New Year\r\n  let now = new Date().getTime();\r\n  let until = countDownDate - now;\r\n\r\n  let days = Math.floor(until / (1000 * 60 * 60 * 24));\r\n  let hours = Math.floor((until % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n  let minutes = Math.floor((until % (1000 * 60 * 60)) / (1000 * 60));\r\n  let seconds = Math.floor((until % (1000 * 60)) / 1000);\r\n\r\n  countdown.innerHTML = `${formatTime(days)}d ${formatTime(hours)}h ${formatTime(minutes)}m ${formatTime(seconds)}s`;\r\n  title.innerHTML = \"until New Year's Eve\";\r\n\r\n  if(until < 0) {\r\n    drawFireworks();\r\n\r\n    countdown.innerHTML = 'HAPPY NEW YEAR';\r\n    title.innerHTML = new Date().toTimeString().substr(0, 8);\r\n\r\n    // After New Year\r\n    setInterval(() => {\r\n      let time = new Date().toTimeString().substr(0, 8);\r\n    \r\n      countdown.innerHTML = 'HAPPY NEW YEAR';\r\n      title.innerHTML = time;\r\n      \r\n      clearInterval(countdownInterval);\r\n    }, 1000);\r\n  }\r\n}, 1000);\r\n\r\nfunction formatTime(number) {\r\n  if(number < 10)\r\n    return `0${number}`;\r\n  else\r\n    return number;\r\n}\r\n\r\n// ******************************\r\n// LOFI-PLAYER\r\n// ******************************\r\n// Load API asynchronously\r\n/*let iframeApiScriptTag = document.createElement('script');\r\niframeApiScriptTag.src = \"https://www.youtube.com/iframe_api\";\r\nlet playerScriptTag = document.getElementById('player');\r\nplayerScriptTag.parentNode.insertBefore(iframeApiScriptTag, playerScriptTag);\r\n*/\r\n\r\n// Initialize Player\r\nlet player;\r\nlet playlistItemCount;\r\n\r\nasync function initPlayer() {\r\n  playlistItemCount = await google.getPlaylistItemCount(playlistId);\r\n  player = new YT.Player('player', {\r\n    height: '390',\r\n    width: '640',\r\n    playerVars: {\r\n      controls: 0,\r\n      autoplay: 1,\r\n      playlist: playlistId,\r\n      loop: 1\r\n    },\r\n    events: {\r\n      'onReady': onPlayerReady,\r\n      'onStateChange': onPlayerStateChange,\r\n      'onError': onError\r\n    }\r\n  });\r\n\r\n  console.log(player);\r\n}\r\n\r\n// Player Events\r\nfunction onPlayerReady(event) {\r\n  event.target.loadPlaylist({\r\n    list: playlistId,\r\n    listType: 'playlist',\r\n    index: Math.round(Math.random() * (playlistItemCount - 1)),\r\n    startSeconds: 0,\r\n    suggestedQuality: \"small\"\r\n  });\r\n}\r\n\r\nfunction onPlayerStateChange(event) {\r\n  if(event.data == YT.PlayerState.ENDED) nextVideo();\r\n\r\n  currentSong.setAttribute('href', event.target.playerInfo.videoUrl);\r\n}\r\n\r\nfunction onError(event) {\r\n  switch (event.data) {\r\n    case 5:\r\n    case 100:\r\n    case 101:\r\n    case 150:\r\n      console.error(player.getVideoUrl())\r\n      nextVideo();\r\n\r\n      break;\r\n  }\r\n}\r\n\r\n// ******************************\r\n// LOFI-PLAYER - Controls\r\n// ******************************\r\nfunction hitBounds(left) {\r\n  let index = player.getPlaylistIndex();\r\n\r\n  if(index == 0 && left) {\r\n    player.playVideoAt(playlistItemCount -1);\r\n    return true;\r\n  } else if(index == playlistItemCount -1 && !left) {\r\n    player.playVideoAt(0);\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nfunction nextVideo() {\r\n  if(!hitBounds(false)) player.nextVideo();\r\n}\r\n\r\nfunction previousVideo() {\r\n  if(!hitBounds(true)) player.previousVideo();\r\n}\r\n\r\npreviousTrack.addEventListener('click', () => {\r\n  if(player)\r\n    previousVideo();\r\n});\r\n\r\ntoggleTrack.addEventListener('click', () => {\r\n  if(!player) return;\r\n\r\n  if(player.getPlayerState() == YT.PlayerState.PLAYING) {\r\n    player.pauseVideo();\r\n    toggleTrack.innerHTML = 'play_arrow';\r\n  }\r\n  else {\r\n    player.playVideo();\r\n    toggleTrack.innerHTML = 'pause'\r\n  }\r\n    \r\n});\r\n\r\nnextTrack.addEventListener('click', () => {\r\n  if(player)\r\n    nextVideo();\r\n});\r\n\r\nwindow.onload = initPlayer();"]}